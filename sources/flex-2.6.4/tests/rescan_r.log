set -euvx
+ set -euvx

# testwrapper-direct.sh: run some specialized flex tests that care where
# they're run from.

while getopts :b:s: OPTION ; do
    case $OPTION in
        b) BINARY_DIR=$OPTARG ;;
        s) SOURCE_DIR=$OPTARG ;;
    esac
    done
+ getopts :b:s: OPTION
+ case $OPTION in
+ BINARY_DIR=/sources/flex-2.6.4/tests
+ getopts :b:s: OPTION
+ case $OPTION in
+ SOURCE_DIR=.
+ getopts :b:s: OPTION

shift $(($OPTIND-1))
+ shift 4
TESTNAME=$1
+ TESTNAME=./rescan_r.direct

INPUT_NAME=`basename "${TESTNAME%.exe}"`.txt
++ basename ./rescan_r.direct
+ INPUT_NAME=rescan_r.direct.txt

cd ${SOURCE_DIR} && ${BINARY_DIR}/${TESTNAME} ${INPUT_NAME}
+ cd .
+ /sources/flex-2.6.4/tests/./rescan_r.direct rescan_r.direct.txt
Test 1: Reusing same scanner.
Test 1 OK

Test 2: Rescanning with new scanner each time.
Test 2 OK

TEST RETURNING OK.
PASS rescan_r.direct (exit status: 0)
